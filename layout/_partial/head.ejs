<head>
    <meta charset="utf-8">
    <%- partial('plugins/google-analytics') %>
    <%- partial('plugins/tajs') %>
    <%- partial('plugins/baidu') %>
    <% if (theme.google_site_verification) { %>
    <meta name="google-site-verification" content="<%- theme.google_site_verification%>">
    <% }%>
    <% if (theme.canonical) { %>
    <link rel="canonical" href="<%- (theme.canonical + url_for(page.path)).replace(/index\.html$/, '') %>">
    <% } %>
    <%
        var title = page.title;

        if (is_archive()) {
            title = __('menu.archives');
            if (is_month()) {
              title += ': ' + page.year + '/' + page.month;
            } else if (is_year()) {
              title += ': ' + page.year;
            }
        } else if (is_category()) {
            title = __('menu.th-list') + ': ' + page.category;
        } else if (is_tag()) {
            title = __('menu.tags') + ': ' + page.tag;
        }
    %>
    <title><% if (title) { %><%= title %> | <% } %><%= config.title %><% if (config.subtitle){ %> | <%= config.subtitle %><% } %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <% if (theme.color) { %>
    <meta name="theme-color" content="<%= theme.color%>">
    <% } %>
    <%
      var keyWords = config.keywords;
      if (page.tags) {
        keyWords = [];

        _.isArray(page.tags) ? (keyWords = page.tags) : page.tags.each(function(k) {
          keyWords.push(k.name);
        });
      }
    %>
    <meta name="keywords" content="<%= keyWords %>">
    <%- open_graph({twitter_id: theme.twitter, google_plus: theme.google_plus, fb_admins: theme.fb_admins, fb_app_id: theme.fb_app_id}) %>
    <% if ((config.feed) && (config.feed.path.length)) { %>
        <link rel="alternate" type="application/atom+xml" title="<%= config.title %>" href="<%- url_for(config.feed.path) %>">
    <% } %>
    <%- favicon_tag(theme.favicon) %>
    <link rel="stylesheet" href="/css/style.css">
    <!-- github无法缓存
    <link rel="stylesheet" href="<%- url_for(theme_css('/css/style', cache)) %>">
    -->
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    <% if (site.data.head) { %>
        <% for (var i in site.data.head) { %>
            <%- site.data.head[i] %>
        <% } %>
    <% } %>
	
	<link href="/css/jquery-accordion-menu.css" rel="stylesheet" type="text/css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

	<style type="text/css">
		#demo-list a{
			overflow:hidden;
			text-overflow:ellipsis;
			-o-text-overflow:ellipsis;
			white-space:nowrap;
			width:100%;
		}
	</style>

	<script src="/js/jquery-2.1.1.min.js" type="text/javascript"></script>
	<script src="/js/jquery-accordion-menu.js" type="text/javascript"></script>
</head>
